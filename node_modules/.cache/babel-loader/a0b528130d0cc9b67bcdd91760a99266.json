{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\sns\\\\src\\\\Component\\\\FriendItem\\\\FriendItem.js\";\nimport React from 'react';\nimport './FriendItem.css';\nimport { addApplyFriend, addFriend, deleteFriend, excludeRecommendFriend } from \"../../services/DataService\";\nimport alertDialog from \"../../services/AlertDialog\";\nimport eventService from \"../../services/EventService\";\nimport { withRouter } from \"react-router-dom\";\n\nclass FriendItem extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.refuseEvent = () => {\n      switch (this.props.listName) {\n        case \"AcceptList\":\n          // 받은 신청 (delete element + delete request(1) friend table)\n          console.log(\"props data: \", this.props.data);\n          deleteFriend(this.props.data.userid, this.state.userInfo.id, 1, v => {\n            eventService.emitEvent(\"reloadFriends\", {\n              id: this.props.data.userid,\n              type: \"accept\"\n            });\n          });\n          break;\n\n        case \"recommendList\":\n          // 추천 친구 (delete element + insert request(0) friend table)\n          excludeRecommendFriend(this.state.userInfo.id, this.props.data.id, res => {\n            eventService.emitEvent(\"reloadFriends\", {\n              id: this.props.data.id,\n              type: \"recommend\"\n            });\n          });\n          break;\n      }\n    };\n\n    this.agreeEvent = () => {\n      switch (this.props.listName) {\n        case \"AcceptList\":\n          // 받은 신청 (delete element + update request(100) friend table + insert request(100)[상대 꺼 만들어주기])\n          addFriend({\n            userid: this.state.userInfo.id,\n            friend: this.props.data.userid\n          }, res => {\n            eventService.emitEvent(\"reloadFriends\", {\n              id: this.props.data.userid,\n              type: \"accept\"\n            });\n          });\n          break;\n\n        case \"recommendList\":\n          // 추천 친구 (delete element + insert request(1) friend table)\n          addApplyFriend(this.state.userInfo.id, this.props.data.id, res => {\n            eventService.emitEvent(\"reloadFriends\", {\n              id: this.props.data.id,\n              type: \"recommend\"\n            });\n          });\n          break;\n      }\n    };\n\n    this.state = {\n      userInfo: JSON.parse(localStorage.getItem(\"userInfo\"))\n    };\n  }\n\n  render() {\n    const data = this.props.data; // console.log(data);\n\n    return React.createElement(\"li\", {\n      className: \"friendItem\",\n      onClick: e => {\n        e.preventDefault();\n        this.props.history.push(`/story/${data.id}/main`);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, data.profileimg === null ? React.createElement(\"span\", {\n      className: \"frame_type3 frame_g img_profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }) : React.createElement(\"span\", {\n      className: \"friendItemProfileImg frame_type3 frame_g\",\n      style: {\n        backgroundImage: `url(${data.profileimg})`\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"thumb_name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, data.name), this.props.listName === \"friendsList\" ? React.createElement(\"div\", {\n      className: \"friendItemIconWrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"ico_ks ico_message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"\\uCABD\\uC9C0 \\uBCF4\\uB0B4\\uAE30\"), React.createElement(\"span\", {\n      className: \"ico_ks ico_add\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"\\uAD00\\uC2EC\\uCE5C\\uAD6C \\uD574\\uC81C\")) : React.createElement(\"div\", {\n      className: \"friendItemIconWrap\",\n      style: this.props.listName === \"AcceptList\" ? {\n        display: \"flex\"\n      } : {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"ico_ks btn_defy\",\n      onClick: this.refuseEvent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"\\uBB34\\uC2DC\"), React.createElement(\"span\", {\n      className: \"ico_ks btn_accept\",\n      onClick: this.agreeEvent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"\\uC218\\uB77D\")));\n  }\n\n}\n\nexport default withRouter(FriendItem);","map":{"version":3,"sources":["C:/xampp/htdocs/sns/src/Component/FriendItem/FriendItem.js"],"names":["React","addApplyFriend","addFriend","deleteFriend","excludeRecommendFriend","alertDialog","eventService","withRouter","FriendItem","Component","constructor","props","refuseEvent","listName","console","log","data","userid","state","userInfo","id","v","emitEvent","type","res","agreeEvent","friend","JSON","parse","localStorage","getItem","render","e","preventDefault","history","push","profileimg","backgroundImage","name","display"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './FriendItem.css';\r\nimport {addApplyFriend, addFriend, deleteFriend, excludeRecommendFriend} from \"../../services/DataService\";\r\nimport alertDialog from \"../../services/AlertDialog\";\r\nimport eventService from \"../../services/EventService\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nclass FriendItem extends React.Component {\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userInfo: JSON.parse(localStorage.getItem(\"userInfo\")),\r\n    };\r\n  }\r\n\r\n\r\n  refuseEvent = () => {\r\n    switch (this.props.listName) {\r\n      case \"AcceptList\":  // 받은 신청 (delete element + delete request(1) friend table)\r\n        console.log(\"props data: \", this.props.data);\r\n        deleteFriend(this.props.data.userid, this.state.userInfo.id, 1, (v) => {\r\n          eventService.emitEvent(\"reloadFriends\", {\r\n            id: this.props.data.userid,\r\n            type: \"accept\",\r\n          });\r\n        });\r\n        break;\r\n      case \"recommendList\": // 추천 친구 (delete element + insert request(0) friend table)\r\n        excludeRecommendFriend(this.state.userInfo.id, this.props.data.id, (res) => {\r\n          eventService.emitEvent(\"reloadFriends\", {\r\n            id: this.props.data.id,\r\n            type: \"recommend\",\r\n          });\r\n        });\r\n        break;\r\n    }\r\n  };\r\n\r\n  agreeEvent = () => {\r\n    switch (this.props.listName) {\r\n      case \"AcceptList\":  // 받은 신청 (delete element + update request(100) friend table + insert request(100)[상대 꺼 만들어주기])\r\n        addFriend({\r\n          userid: this.state.userInfo.id,\r\n          friend: this.props.data.userid\r\n        }, (res) => {\r\n          eventService.emitEvent(\"reloadFriends\", {\r\n            id: this.props.data.userid,\r\n            type: \"accept\",\r\n          });\r\n        });\r\n        break;\r\n      case \"recommendList\": // 추천 친구 (delete element + insert request(1) friend table)\r\n        addApplyFriend(this.state.userInfo.id, this.props.data.id, (res) => {\r\n          eventService.emitEvent(\"reloadFriends\", {\r\n            id:  this.props.data.id,\r\n            type: \"recommend\",\r\n          });\r\n        });\r\n        break;\r\n    }\r\n  };\r\n\r\n\r\n  render() {\r\n    const {data} = this.props;\r\n    // console.log(data);\r\n    return (\r\n      <li className=\"friendItem\" onClick={(e) => {\r\n        e.preventDefault();\r\n        this.props.history.push(`/story/${data.id}/main`);\r\n      }}>\r\n        {\r\n          (data.profileimg === null) ?\r\n            (<span className=\"frame_type3 frame_g img_profile\"/>) :\r\n            (<span className=\"friendItemProfileImg frame_type3 frame_g\" style={{backgroundImage: `url(${data.profileimg})`}}/>)\r\n        }\r\n\r\n        <span className=\"thumb_name\">{data.name}</span>\r\n        {\r\n          (this.props.listName === \"friendsList\") ?\r\n            (<div className=\"friendItemIconWrap\">\r\n              <span className=\"ico_ks ico_message\">쪽지 보내기</span>\r\n              <span className=\"ico_ks ico_add\">관심친구 해제</span>\r\n            </div>) :\r\n            (<div className=\"friendItemIconWrap\"\r\n                  style={(this.props.listName === \"AcceptList\") ? {display: \"flex\"} : {}}>\r\n              <span className=\"ico_ks btn_defy\" onClick={this.refuseEvent}>무시</span>\r\n              <span className=\"ico_ks btn_accept\" onClick={this.agreeEvent}>수락</span>\r\n            </div>)\r\n        }\r\n\r\n      </li>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(FriendItem);\r\n"]},"metadata":{},"sourceType":"module"}