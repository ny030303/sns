{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\sns\\\\src\\\\Component\\\\WritingContainer\\\\FileUploadPopup\\\\FileUploadPopup.js\";\nimport React from \"react\";\nimport \"./FileUploadPopup.css\";\nimport Pagination from \"../../Pagination/Pagination\";\nexport default class FileUploadPopup extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.hidePopup = () => this.props.showFileUploadPopup(false);\n\n    this.dragOverEvent = e => {\n      console.log(\"드래그 오버\");\n      e.preventDefault();\n    };\n\n    this.dropEvent = e => {\n      e.preventDefault();\n      let list = Array.from(e.dataTransfer.files);\n      list.forEach(v => {\n        this.props.fileToDataURL(v).then(res => {\n          this.setState({\n            fileList: [...this.state.fileList, ...[{\n              name: v.name,\n              type: v.type,\n              data: res\n            }]]\n          });\n        });\n      });\n    };\n\n    this.deleteFile = e => {\n      let fileList = this.state.fileList;\n      let num = e.target.dataset.lnum;\n      fileList.splice(num, 1);\n      this.setState({\n        fileList: fileList\n      });\n\n      if (fileList.length <= this.state.currPage * this.sizePerPage - this.sizePerPage) {\n        this.setState({\n          currPage: this.state.currPage - 1\n        });\n      }\n    };\n\n    this.onChangePage = e => {\n      let currPage = Number(e.target.dataset.page);\n      let maxPage = Math.floor((this.state.fileList.length + this.sizePerPage - 1) / this.sizePerPage);\n      if (currPage < 1 || currPage > maxPage) return;\n      this.setState({\n        currPage: currPage\n      });\n    };\n\n    this.attachFiles = () => this.props.attachFiles(this.state.fileList);\n\n    this.state = {\n      fileList: [],\n      currPage: 1\n    };\n    this.sizePerPage = 10;\n  }\n\n  componentDidMount() {}\n\n  render() {\n    const _this$state = this.state,\n          fileList = _this$state.fileList,\n          currPage = _this$state.currPage;\n    return React.createElement(\"div\", {\n      className: \"modal fade in\",\n      style: {\n        display: \"block\",\n        opacity: \"1\",\n        backgroundColor: \"rgba(0,0,0,0.6)\"\n      },\n      id: \"fileUploadPopup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-dialog\",\n      style: {\n        maxWidth: \"600px\",\n        top: \"23%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-content popupStyle1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-header\",\n      style: {\n        border: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      onClick: this.hidePopup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"\\xD7\")), React.createElement(\"div\", {\n      className: \"modal-body\",\n      style: {\n        padding: \"0\",\n        margin: \"1rem 36px\"\n      },\n      onDragOver: this.dragOverEvent,\n      onDrop: this.dropEvent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, fileList.length <= 0 ? React.createElement(\"div\", {\n      className: \"dragHere\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dragHereContents\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"DRAG FILES HERE\"))) : React.createElement(React.Fragment, null, React.createElement(\"ul\", {\n      className: \"uk-list fileList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, fileList.filter((fv, fi) => Math.floor((fi + this.sizePerPage - 1 + 1) / this.sizePerPage) === currPage).map((v, i) => React.createElement(\"div\", {\n      key: i,\n      className: \"upload-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"img-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: v.data,\n      alt: \"img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"ico_ks bn_x\",\n      onClick: this.deleteFile,\n      \"data-lnum\": i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"text-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, v.name)))), React.createElement(Pagination, {\n      dataCnt: fileList.length,\n      sizePerPage: this.sizePerPage,\n      currPage: currPage,\n      changePage: this.onChangePage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"uk-button uk-button-default\",\n      id: \"fileBtn\",\n      onClick: this.attachFiles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"\\uD30C\\uC77C \\uCCA8\\uBD80\")))))));\n  }\n\n}","map":{"version":3,"sources":["C:/xampp/htdocs/sns/src/Component/WritingContainer/FileUploadPopup/FileUploadPopup.js"],"names":["React","Pagination","FileUploadPopup","Component","constructor","props","hidePopup","showFileUploadPopup","dragOverEvent","e","console","log","preventDefault","dropEvent","list","Array","from","dataTransfer","files","forEach","v","fileToDataURL","then","res","setState","fileList","state","name","type","data","deleteFile","num","target","dataset","lnum","splice","length","currPage","sizePerPage","onChangePage","Number","page","maxPage","Math","floor","attachFiles","componentDidMount","render","display","opacity","backgroundColor","maxWidth","top","border","padding","margin","filter","fv","fi","map","i","textAlign"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./FileUploadPopup.css\";\r\nimport Pagination from \"../../Pagination/Pagination\";\r\n\r\nexport default class FileUploadPopup extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      fileList: [],\r\n      currPage: 1\r\n    };\r\n    this.sizePerPage = 10;\r\n  }\r\n  hidePopup = () => this.props.showFileUploadPopup(false);\r\n\r\n  dragOverEvent = (e) => {\r\n    console.log(\"드래그 오버\");\r\n    e.preventDefault();\r\n  };\r\n\r\n  dropEvent = (e) => {\r\n    e.preventDefault();\r\n    let list = Array.from(e.dataTransfer.files);\r\n    list.forEach(v => {\r\n      this.props.fileToDataURL(v).then(res => {\r\n        this.setState({fileList: [...this.state.fileList, ...[{name: v.name, type: v.type, data: res}]]});\r\n      });\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n\r\n  deleteFile = (e) => {\r\n    let {fileList} = this.state;\r\n    let num = e.target.dataset.lnum;\r\n    fileList.splice(num, 1);\r\n    this.setState({fileList: fileList});\r\n    if (fileList.length <= this.state.currPage * this.sizePerPage - this.sizePerPage) {\r\n      this.setState({currPage: this.state.currPage - 1});\r\n    }\r\n  };\r\n\r\n  onChangePage = (e) => {\r\n    let currPage = Number(e.target.dataset.page);\r\n    let maxPage = Math.floor((this.state.fileList.length + this.sizePerPage - 1) / this.sizePerPage);\r\n    if(currPage < 1 || currPage > maxPage) return;\r\n    this.setState({currPage: currPage});\r\n  };\r\n\r\n  attachFiles = () => this.props.attachFiles(this.state.fileList);\r\n\r\n  render() {\r\n    const {fileList, currPage} = this.state;\r\n    return (\r\n      <div className=\"modal fade in\" style={{display: \"block\", opacity: \"1\", backgroundColor: \"rgba(0,0,0,0.6)\"}}\r\n           id=\"fileUploadPopup\">\r\n        <div className=\"modal-dialog\" style={{maxWidth: \"600px\", top: \"23%\"}}>\r\n          <div className=\"modal-content popupStyle1\">\r\n            <div className=\"modal-header\" style={{border: \"none\"}}>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\"\r\n                      onClick={this.hidePopup}>&times;</button>\r\n            </div>\r\n            <div className=\"modal-body\" style={{padding: \"0\", margin: \"1rem 36px\"}} onDragOver={this.dragOverEvent}\r\n                 onDrop={this.dropEvent}>\r\n              {\r\n                (fileList.length <= 0) ?\r\n                  (<div className=\"dragHere\">\r\n                    <div className=\"dragHereContents\">\r\n                      {/*<img className=\"file_drop_img\" src=\"/images/file_upload.png\"/>*/}\r\n                      <div>DRAG FILES HERE</div>\r\n                    </div>\r\n                  </div>) :\r\n                  (<>\r\n                    <ul className=\"uk-list fileList\">\r\n                      {\r\n                        fileList.filter((fv, fi) => Math.floor((fi + this.sizePerPage-1 + 1) / this.sizePerPage) === currPage).map((v, i) =>\r\n                          (<div key={i} className=\"upload-item\">\r\n                            <div className=\"img-box\">\r\n                              <img src={v.data} alt=\"img\"/>\r\n                              <span className=\"ico_ks bn_x\" onClick={this.deleteFile} data-lnum={i}/>\r\n                            </div>\r\n                            <div className=\"text-box\">\r\n                              {v.name}\r\n                            </div>\r\n                          </div>))\r\n                      }\r\n                    </ul>\r\n\r\n                    <Pagination dataCnt={fileList.length} sizePerPage={this.sizePerPage} currPage={currPage}\r\n                                changePage={this.onChangePage}/>\r\n\r\n                    <div style={{textAlign: \"center\"}}>\r\n                      <button className=\"uk-button uk-button-default\" id=\"fileBtn\" onClick={this.attachFiles}>파일 첨부</button>\r\n                    </div>\r\n                  </>)\r\n              }\r\n\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}